# =============================================================================
# TETRIVO HMS - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git!

# -----------------------------------------------------------------------------
# SUPABASE (Required)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# -----------------------------------------------------------------------------
# GOOGLE CLOUD / VERTEX AI (Required - Primary AI Provider)
# Used for: Embeddings, Chat (Gemini), Document AI, Search
# -----------------------------------------------------------------------------
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_CREDENTIALS_JSON='{"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}'

# Google Cloud Storage (for document storage)
GCS_BUCKET_NAME=your-bucket-name

# Vertex AI Search (optional - enhances search quality)
VERTEX_DATA_STORE_ID=your-data-store-id
VERTEX_SEARCH_APP_ID=your-search-app-id

# Document AI (optional - better PDF/OCR extraction)
DOCUMENT_AI_PROCESSOR_ID=your-processor-id
DOCUMENT_AI_LOCATION=eu

# -----------------------------------------------------------------------------
# APP URL (Required for production)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL=https://tetrivo.com

# -----------------------------------------------------------------------------
# EDGE FUNCTIONS (Required for async processing)
# Generate a random secret: openssl rand -hex 32
# -----------------------------------------------------------------------------
EDGE_FUNCTION_SECRET=your-random-secret-here

# -----------------------------------------------------------------------------
# EMAIL (Optional - for invitations)
# -----------------------------------------------------------------------------
RESEND_API_KEY=re_your-resend-key
RESEND_FROM_EMAIL=Tetrivo HMS <no-reply@tetrivo.com>

# -----------------------------------------------------------------------------
# RATE LIMITING (Optional - fallback to in-memory if not set)
# Recommended for production to prevent abuse
# -----------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# -----------------------------------------------------------------------------
# CACHING (Optional)
# -----------------------------------------------------------------------------
ENABLE_SEARCH_CACHE=true
CACHE_TTL_SECONDS=300
SEARCH_CACHE_TTL=60

# -----------------------------------------------------------------------------
# RATE LIMIT CONFIGURATION (Optional - has sensible defaults)
# -----------------------------------------------------------------------------
AI_RATE_LIMIT=20
AI_RATE_WINDOW_SECONDS=60
AI_MIN_RELEVANCE_SCORE=0.35

UPLOAD_RATE_LIMIT=10
UPLOAD_RATE_WINDOW_SECONDS=60
MAX_UPLOAD_MB=10

INVITE_RATE_LIMIT=10
INVITE_RATE_WINDOW_SECONDS=3600

API_RATE_LIMIT=60
API_RATE_WINDOW_SECONDS=60

# -----------------------------------------------------------------------------
# PDF PROCESSING (Optional - has sensible defaults)
# -----------------------------------------------------------------------------
PDF_MAX_PAGES=50
PDF_TIMEOUT_MS=20000
PDF_MAX_CHARS=500000

# -----------------------------------------------------------------------------
# GDPR CLEANUP (For scheduled cleanup jobs)
# Generate a random secret: openssl rand -hex 32
# -----------------------------------------------------------------------------
GDPR_CLEANUP_SECRET=your-random-secret-here
GDPR_RETENTION_DAYS=90

# -----------------------------------------------------------------------------
# LEGACY/DEPRECATED (Not used - kept for reference)
# The project now uses Vertex AI (Gemini) instead of these providers
# -----------------------------------------------------------------------------
# ANTHROPIC_API_KEY=sk-ant-api03-your-key-here
# OPENAI_API_KEY=sk-proj-your-openai-key-here
